{"version":3,"file":"31.js","sources":["webpack:///31.js"],"sourcesContent":["webpackJsonp([31],{\"5DJ5\":function(t,i,e){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var s=e(\"NYxO\"),a=e(\"QxPg\"),n=e(\"EQBe\"),r=e(\"Wv7l\"),l=e.n(r),o=Object.assign||function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t};a.default.library.add([n._13,n._16,n._2,n.E,n.H,n.Y,n.W]),i.default={components:{FileUploader:l.a},computed:o({},Object(s.c)(\"locale\",{__:\"__\",locale:\"current\"}),Object(s.e)([\"user\",\"meta\"]),{uploadAvatarLink:function(){return route(\"core.avatars.store\",[],!1)},isSelfVisiting:function(){return this.user.id===this.profileUser.id},avatarId:function(){return this.isSelfVisiting?this.user.avatarId:this.profileUser.avatar?this.profileUser.avatar.id:null},avatarLink:function(){return route(\"core.avatars.show\",this.avatarId||\"null\",!1)},timeline:function(){var t=this,i=this.profileUser.timeline.data;return i.map(function(t){return t.created_at}).reduce(function(i,e){return i.push(t.getDay(e)),i},[]).filter(function(t,i,e){return e.indexOf(t)===i}).reduce(function(e,s){return e[s]=i.filter(function(i){return t.getDay(i.created_at)===s}),e},{})},isShort:function(){return this.profileUser.timeline.last_page<=5},isAtStart:function(){return this.profileUser.timeline.current_page<=2},isAtEnd:function(){return this.profileUser.timeline.last_page-this.profileUser.timeline.current_page<=2},hasMiddle:function(){return!this.isAtStart&&!this.isAtEnd},paginationUrl:function(){return route(\"administration.users.show\",[this.profileUser.id],!1)+\"?page=\"}}),data:function(){return{initialised:!1,profileUser:{}}},watch:{locale:{handler:function(){this.getPage(this.profileUser.timeline.current_page)}}},methods:{deleteAvatar:function(){var t=this;axios.delete(route(\"core.avatars.destroy\",this.user.avatarId,!1)).then(function(){t.$store.commit(\"setUserAvatar\",null)}).catch(function(i){return t.handleError(i)})},logout:function(){var t=this;axios.post(route(\"logout\",[],!1).toString()).then(function(){t.$store.dispatch(\"auth/logout\")}).catch(function(i){return t.handleError(i)})},getDay:function(t){return moment(t).calendar().split(\" \")[0]},getHRDate:function(t){return moment(t).format(this.meta.dateFormat)},getHRTime:function(t){return moment(t).format(\"H:mm\")},getIcon:function(t){return t.indexOf(\"index\")>0?n.H:t.indexOf(\"create\")>0?n.Y:t.indexOf(\"edit\")>0?n.W:n._13},getClass:function(t){return t.indexOf(\"index\")>0?\"has-text-success\":t.indexOf(\"create\")>0?\"has-text-warning\":t.indexOf(\"edit\")>0?\"has-text-warning\":\"has-text-danger\"},getPage:function(t){var i=this;axios.get(this.paginationUrl+t).then(function(t){var e=t.data;i.profileUser=e.user}).catch(function(t){return i.handleError(t)})}},mounted:function(){var t=this;axios.get(route(this.$route.name,this.$route.params.id,!1)).then(function(i){t.profileUser=i.data.user,t.initialised=!0}).catch(function(i){return t.handleError(i)})}}},\"5Paw\":function(t,i,e){(t.exports=e(\"FZ+f\")(!1)).push([t.i,\".has-lateral-borders{border-left:1px solid rgba(0,0,0,.2);border-right:1px solid rgba(0,0,0,.2)}.stat-value{font-size:3em;padding-top:12px}.stat-key{font-size:1.4em;font-weight:200;padding-bottom:8px}.level.user-controls{margin-bottom:0}.timeline-content{-webkit-transition:all 1s ease;transition:all 1s ease}\",\"\"])},\"9Scd\":function(t,i){t.exports={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return t.initialised?e(\"div\",[e(\"div\",{staticClass:\"box profile-heading\"},[e(\"div\",{staticClass:\"columns is-multiline\"},[e(\"div\",{staticClass:\"column is-half-desktop\"},[e(\"div\",{staticClass:\"columns is-mobile\"},[e(\"div\",{staticClass:\"column is-narrow\"},[e(\"div\",{staticClass:\"image is-128x128\"},[e(\"img\",{attrs:{src:t.avatarLink}})])]),t._v(\" \"),e(\"div\",{staticClass:\"column\"},[e(\"div\",{staticClass:\"level\"},[e(\"div\",{staticClass:\"level-item has-padding-top-small\"},[e(\"div\",[e(\"p\",{staticClass:\"title is-3\"},[t._v(t._s(t.profileUser.fullName))]),t._v(\" \"),e(\"p\",[t._v(t._s(t.__(\"role\"))+\": \"+t._s(t.profileUser.role.name))]),t._v(\" \"),e(\"p\",[t._v(t._s(t.__(\"since\"))+\": \"+t._s(t.profileUser.created_at))]),t._v(\" \"),e(\"p\",{staticClass:\"has-margin-top-small\"}),t.isSelfVisiting?e(\"div\",{staticClass:\"level user-controls\"},[e(\"div\",{staticClass:\"level-left\"},[t.avatarId?e(\"button\",{staticClass:\"button is-small is-warning\",on:{click:t.deleteAvatar}},[e(\"span\",{staticClass:\"icon\"},[e(\"fa\",{attrs:{icon:\"trash-alt\"}})],1),t._v(\" \"),e(\"span\",[t._v(\"\\n                                                        \"+t._s(t.__(\"Avatar\"))+\"\\n                                                    \")])]):t._e(),t._v(\" \"),t.avatarId?t._e():e(\"file-uploader\",{attrs:{url:t.uploadAvatarLink},on:{\"upload-successful\":function(i){t.$store.commit(\"setUserAvatar\",i.id)}},scopedSlots:t._u([{key:\"upload-button\",fn:function(i){return[e(\"button\",{staticClass:\"button is-small is-info\",on:{click:i.openFileBrowser}},[e(\"span\",{staticClass:\"icon\"},[e(\"fa\",{attrs:{icon:\"upload\"}})],1),t._v(\" \"),e(\"span\",[t._v(\"\\n                                                                \"+t._s(t.__(\"Avatar\"))+\"\\n                                                            \")])])]}}])})],1),t._v(\" \"),e(\"div\",{staticClass:\"level-right\"},[e(\"button\",{staticClass:\"button is-small is-danger\",on:{click:function(i){t.logout()}}},[e(\"span\",{staticClass:\"icon\"},[e(\"fa\",{attrs:{icon:\"sign-out-alt\"}})],1),t._v(\" \"),e(\"span\",[t._v(\"\\n                                                        \"+t._s(t.__(\"Log Out\"))+\"\\n                                                    \")])])])]):e(\"div\",[t.$store.state.impersonating?t._e():e(\"button\",{staticClass:\"button is-small is-warning\",on:{click:function(i){t.$bus.$emit(\"start-impersonating\",t.profileUser.id)}}},[t._v(\"\\n                                                \"+t._s(t.__(\"Impersonate\"))+\"\\n                                            \")])]),t._v(\" \"),e(\"p\")])])])])])]),t._v(\" \"),e(\"div\",{staticClass:\"column is-half-desktop\"},[e(\"div\",{staticClass:\"columns is-mobile\"},[e(\"div\",{staticClass:\"column has-text-centered\"},[e(\"p\",{staticClass:\"stat-value\"},[t._v(t._s(t.profileUser.loginCount))]),t._v(\" \"),e(\"p\",{staticClass:\"stat-key\"},[t._v(t._s(t.__(\"logins\")))])]),t._v(\" \"),e(\"div\",{staticClass:\"column has-text-centered has-lateral-borders\"},[e(\"p\",{staticClass:\"stat-value\"},[t._v(t._s(t.profileUser.actionLogCount))]),t._v(\" \"),e(\"p\",{staticClass:\"stat-key\"},[t._v(t._s(t.__(\"actions\")))])]),t._v(\" \"),e(\"div\",{staticClass:\"column has-text-centered\"},[e(\"p\",{staticClass:\"stat-value\"},[t._v(t._s(t.profileUser.rating))]),t._v(\" \"),e(\"p\",{staticClass:\"stat-key\"},[t._v(t._s(t.__(\"rating\")))])])])])])]),t._v(\" \"),e(\"div\",{staticClass:\"columns is-centered\"},[e(\"div\",{staticClass:\"column is-two-thirds-tablet\"},[e(\"div\",{staticClass:\"box\"},[e(\"nav\",{staticClass:\"pagination is-small has-margin-bottom-large\"},[e(\"a\",{staticClass:\"pagination-previous\",attrs:{disabled:null===t.profileUser.timeline.prev_page_url},on:{click:function(i){t.getPage(t.profileUser.timeline.current_page-1)}}},[t._v(\"\\n                        \"+t._s(t.__(\"Previous\"))+\"\\n                    \")]),t._v(\" \"),e(\"a\",{staticClass:\"pagination-next\",attrs:{disabled:null===t.profileUser.timeline.next_page_url},on:{click:function(i){t.getPage(t.profileUser.timeline.current_page+1)}}},[t._v(\"\\n                        \"+t._s(t.__(\"Next\"))+\"\\n                    \")]),t._v(\" \"),t.isShort?e(\"ul\",{staticClass:\"pagination-list\"},t._l(t.profileUser.timeline.last_page,function(i){return e(\"li\",{key:i},[e(\"a\",{staticClass:\"pagination-link\",class:{\"is-current\":t.profileUser.timeline.current_page===i},on:{click:function(e){t.getPage(i)}}},[t._v(\"\\n                                \"+t._s(i)+\"\\n                            \")])])})):t._e(),t._v(\" \"),t.isAtStart&&!t.isShort?e(\"ul\",{staticClass:\"pagination-list\"},[t._l(3,function(i){return e(\"li\",{key:i},[e(\"a\",{staticClass:\"pagination-link\",class:{\"is-current\":t.profileUser.timeline.current_page===i},on:{click:function(e){t.getPage(i)}}},[t._v(\"\\n                                \"+t._s(i)+\"\\n                            \")])])}),t._v(\" \"),t._m(0),t._v(\" \"),e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(t.profileUser.timeline.last_page)}}},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.last_page)+\"\\n                            \")])])],2):t._e(),t._v(\" \"),t.hasMiddle&&!t.isShort?e(\"ul\",{staticClass:\"pagination-list\"},[e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(1)}}},[t._v(\"\\n                                1\\n                            \")])]),t._v(\" \"),t._m(1),t._v(\" \"),e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(t.profileUser.timeline.current_page-1)}}},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.current_page-1)+\"\\n                            \")])]),t._v(\" \"),e(\"li\",[e(\"a\",{staticClass:\"pagination-link is-current\"},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.current_page)+\"\\n                            \")])]),t._v(\" \"),e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(t.profileUser.timeline.current_page+1)}}},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.current_page+1)+\"\\n                            \")])]),t._v(\" \"),t._m(2),t._v(\" \"),e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(t.profileUser.timeline.last_page)}}},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.last_page)+\"\\n                            \")])])]):t._e(),t._v(\" \"),t.isAtEnd&&!t.isShort?e(\"ul\",{staticClass:\"pagination-list\"},[e(\"li\",[e(\"a\",{staticClass:\"pagination-link\",on:{click:function(i){t.getPage(1)}}},[t._v(\"\\n                                1\\n                            \")])]),t._v(\" \"),t._m(3),t._v(\" \"),t._l(3,function(i){return e(\"li\",{key:i},[e(\"a\",{staticClass:\"pagination-link\",class:{\"is-current\":t.profileUser.timeline.current_page===t.profileUser.timeline.last_page-3+i},on:{click:function(e){t.getPage(t.profileUser.timeline.last_page-3+i)}}},[t._v(\"\\n                                \"+t._s(t.profileUser.timeline.last_page-3+i)+\"\\n                            \")])])})],2):t._e()]),t._v(\" \"),e(\"ul\",{staticClass:\"timeline has-padding-large\"},[t._l(t.timeline,function(i,s){return e(\"div\",{key:s,staticClass:\"timeline-content\"},[e(\"li\",{staticClass:\"timeline-header\"},[e(\"span\",{staticClass:\"tag is-medium is-primary\"},[t._v(t._s(t.__(s)))])]),t._v(\" \"),t._l(i,function(i,s){return e(\"li\",{key:s,staticClass:\"timeline-item\"},[e(\"div\",{staticClass:\"timeline-marker is-icon\",class:t.getClass(i.route)},[e(\"fa\",{attrs:{icon:t.getIcon(i.route),size:\"xs\"}})],1),t._v(\" \"),e(\"div\",{staticClass:\"timeline-content\"},[e(\"p\",{staticClass:\"heading\"},[t._v(t._s(t.getHRDate(i.created_at))+\" \"+t._s(t.getHRTime(i.created_at)))]),t._v(\" \"),e(\"p\",[t._v(t._s(i.permission.description))])])])})],2)}),t._v(\" \"),t.profileUser.timeline.current_page===t.profileUser.timeline.last_page?e(\"li\",{staticClass:\"timeline-header\"},[e(\"span\",{staticClass:\"tag is-medium is-primary\"},[t._v(t._s(t.__(\"End\")))])]):e(\"li\",{staticClass:\"timeline-item\"},[e(\"div\",{staticClass:\"timeline-marker is-icon\"},[e(\"fa\",{attrs:{icon:\"ellipsis-h\",size:\"xs\"}})],1)])],2)])])])]):t._e()},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i(\"li\",[i(\"span\",{staticClass:\"pagination-ellipsis\"},[this._v(\"…\")])])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"li\",[i(\"span\",{staticClass:\"pagination-ellipsis\"},[this._v(\"…\")])])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"li\",[i(\"span\",{staticClass:\"pagination-ellipsis\"},[this._v(\"…\")])])},function(){var t=this.$createElement,i=this._self._c||t;return i(\"li\",[i(\"span\",{staticClass:\"pagination-ellipsis\"},[this._v(\"…\")])])}]}},Epi4:function(t,i,e){(t.exports=e(\"FZ+f\")(!1)).push([t.i,\"form.file-upload{display:inline-table}button.file-upload{background:transparent}.file-input.hidden{display:none}\",\"\"])},TJud:function(t,i,e){var s=e(\"5Paw\");\"string\"==typeof s&&(s=[[t.i,s,\"\"]]),s.locals&&(t.exports=s.locals);e(\"rjj0\")(\"5f525b48\",s,!0)},Tpyw:function(t,i){t.exports={render:function(){var t=this.$createElement,i=this._self._c||t;return i(\"form\",{staticClass:\"file-upload is-marginless\",on:{submit:function(t){t.preventDefault()}}},[i(\"div\",{staticClass:\"file\"},[i(\"label\",{staticClass:\"file-label\"},[i(\"input\",{ref:\"input\",staticClass:\"file-input hidden\",attrs:{multiple:this.multiple,type:\"file\"},on:{change:this.upload}}),this._v(\" \"),this._t(\"upload-button\",[i(\"a\",{staticClass:\"icon is-small\"},[i(\"fa\",{attrs:{icon:\"upload\"}})],1)],{openFileBrowser:this.openFileBrowser})],2)])])},staticRenderFns:[]}},Wv7l:function(t,i,e){var s=e(\"VU/8\")(e(\"yAbN\"),e(\"Tpyw\"),!1,function(t){e(\"e+Xu\")},null,null);t.exports=s.exports},\"e+Xu\":function(t,i,e){var s=e(\"Epi4\");\"string\"==typeof s&&(s=[[t.i,s,\"\"]]),s.locals&&(t.exports=s.locals);e(\"rjj0\")(\"57a3b001\",s,!0)},hErZ:function(t,i,e){var s=e(\"VU/8\")(e(\"5DJ5\"),e(\"9Scd\"),!1,function(t){e(\"TJud\")},null,null);t.exports=s.exports},yAbN:function(t,i,e){\"use strict\";Object.defineProperty(i,\"__esModule\",{value:!0});var s=e(\"QxPg\"),a=e(\"EQBe\"),n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t},r=function(){return function(t,i){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,i){var e=[],s=!0,a=!1,n=void 0;try{for(var r,l=t[Symbol.iterator]();!(s=(r=l.next()).done)&&(e.push(r.value),!i||e.length!==i);s=!0);}catch(t){a=!0,n=t}finally{try{!s&&l.return&&l.return()}finally{if(a)throw n}}return e}(t,i);throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}}();s.default.library.add(a._16),i.default={props:{multiple:{type:Boolean,default:!1},url:{type:String,required:!0},fileSizeLimit:{type:Number,default:8388608,validator:function(t){return t<=8388608}},params:{type:Object,default:null}},data:function(){return{input:null,formData:new FormData}},methods:{openFileBrowser:function(){this.$refs.input.click()},upload:function(){var t=this;this.$emit(\"upload-start\"),this.setFormData(),axios.post(this.url,this.formData).then(function(i){t.reset(),t.$emit(\"upload-successful\",i.data)}).catch(function(i){t.reset(),t.$emit(\"upload-error\"),t.handleError(i)})},setFormData:function(){var t=this.$refs.input.files;this.addFiles(t),this.addParams()},addFiles:function(t){for(var i=0;i<t.length;i++)this.sizeCheckPasses(t[i])&&this.formData.append(\"file_\"+i,t[i])},addParams:function(){var t=this;this.params&&Object.entries(this.params).forEach(function(i){var e=r(i,2),s=e[0],a=e[1],l=\"object\"===(void 0===a?\"undefined\":n(a))?JSON.stringify(a):a;t.formData.append(s,l)})},sizeCheckPasses:function(t){return!(t.size>this.fileSizeLimit)||(this.$toastr.warning(\"File size Limit of \"+this.fileSizeLimit+\" Kb excedeed by \"+t.name),!1)},reset:function(){this.$el.reset(),this.formData=new FormData}}}}});\n\n\n// WEBPACK FOOTER //\n// 31.js"],"mappings":"AAAA","sourceRoot":""}