{"version":3,"sources":["webpack:///./resources/assets/js/pages/auth/Login.vue?092b","webpack:///./resources/assets/js/pages/auth/Login.vue","webpack:///resources/assets/js/pages/auth/Login.vue"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","_s","appName","on","submit","$event","preventDefault","directives","name","rawName","value","expression","class","is-danger","hasErrors","is-success","isSuccessful","attrs","type","placeholder","domProps","keypress","_k","keyCode","key","input","target","composing","email","icon","_e","password","checked","Array","isArray","remember","_i","change","$$a","$$el","$$c","$$i","concat","slice","is-loading","loading","click","to","staticRenderFns","src","Component","__webpack_require__","normalizeComponent","__WEBPACK_IMPORTED_MODULE_1__fortawesome_fontawesome__","library","add","__WEBPACK_IMPORTED_MODULE_2__fortawesome_fontawesome_free_solid_shakable_es__","__webpack_exports__","String","computed","_extends","Object","__WEBPACK_IMPORTED_MODULE_0_vuex__","methods","_this","login","lastRoute","_error$response","error","response","data","message"],"mappings":"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","file":"36.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"column box login\"},[_c('h3',{staticClass:\"title is-3 has-text-black has-text-centered has-margin-bottom-medium\"},[_vm._m(0),_vm._v(\"\\n        \"+_vm._s(_vm.appName)+\"\\n    \")]),_vm._v(\" \"),_c('form',{staticClass:\"has-margin-bottom-medium\",on:{\"submit\":function($event){$event.preventDefault();_vm.submit()}}},[_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.email),expression:\"email\"}],staticClass:\"input\",class:{ 'is-danger': _vm.hasErrors, 'is-success': _vm.isSuccessful },attrs:{\"type\":\"email\",\"placeholder\":\"Email\"},domProps:{\"value\":(_vm.email)},on:{\"keypress\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }_vm.hasErrors=false},\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"icon is-small is-left\"},[_c('fa',{attrs:{\"icon\":\"envelope\"}})],1),_vm._v(\" \"),(_vm.isSuccessful)?_c('span',{staticClass:\"icon is-small is-right has-text-success\"},[_c('fa',{attrs:{\"icon\":\"check\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.hasErrors)?_c('span',{staticClass:\"icon is-small is-right has-text-danger\"},[_c('fa',{attrs:{\"icon\":\"exclamation-triangle\"}})],1):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control has-icons-left has-icons-right\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"}],staticClass:\"input\",class:{ 'is-danger': _vm.hasErrors, 'is-success': _vm.isSuccessful },attrs:{\"type\":\"password\",\"placeholder\":\"Password\"},domProps:{\"value\":(_vm.password)},on:{\"keypress\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"down\",40,$event.key)){ return null; }_vm.hasErrors=false},\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"icon is-small is-left\"},[_c('fa',{attrs:{\"icon\":\"lock\"}})],1),_vm._v(\" \"),(_vm.isSuccessful)?_c('span',{staticClass:\"icon is-small is-right has-text-success\"},[_c('fa',{attrs:{\"icon\":\"check\"}})],1):_vm._e(),_vm._v(\" \"),(_vm.hasErrors)?_c('span',{staticClass:\"icon is-small is-right has-text-danger\"},[_c('fa',{attrs:{\"icon\":\"exclamation-triangle\"}})],1):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('div',{staticClass:\"control\"},[_c('label',{staticClass:\"checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.remember),expression:\"remember\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.remember)?_vm._i(_vm.remember,null)>-1:(_vm.remember)},on:{\"change\":function($event){var $$a=_vm.remember,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.remember=$$a.concat([$$v]))}else{$$i>-1&&(_vm.remember=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.remember=$$c}}}}),_vm._v(\"\\n                  Remember me\\n                \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"field\"},[_c('button',{staticClass:\"button is-primary is-fullwidth\",class:{ 'is-loading': _vm.loading },attrs:{\"type\":\"submit\"},on:{\"click\":function($event){$event.preventDefault();_vm.submit()}}},[_c('span',{staticClass:\"icon is-small\"},[_c('fa',{attrs:{\"icon\":\"user\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(\"Login\")])])])]),_vm._v(\" \"),_c('router-link',{staticClass:\"is-pulled-right\",attrs:{\"to\":{ name: 'password.email' }}},[_vm._v(\"\\n        Forgot password\\n    \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('figure',{staticClass:\"image is-24x24 logo\"},[_c('img',{attrs:{\"src\":\"/images/logo.svg\"}})])}]\nmodule.exports = { render: render, staticRenderFns: staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-02efa2f4\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./resources/assets/js/pages/auth/Login.vue\n// module id = 9/r8\n// module chunks = 36","var normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = require(\"!!babel-loader?{\\\"cacheDirectory\\\":true,\\\"presets\\\":[[\\\"env\\\",{\\\"modules\\\":false,\\\"targets\\\":{\\\"browsers\\\":[\\\"> 2%\\\"],\\\"uglify\\\":true}}]],\\\"plugins\\\":[\\\"transform-object-rest-spread\\\",[\\\"transform-runtime\\\",{\\\"polyfill\\\":false,\\\"helpers\\\":false}],\\\"transform-object-rest-spread\\\",\\\"syntax-dynamic-import\\\"]}!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\")\n/* template */\nvar __vue_template__ = require(\"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-02efa2f4\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\")\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./resources/assets/js/pages/auth/Login.vue\n// module id = MCBh\n// module chunks = 36","<template>\n\n    <div class=\"column box login\">\n        <h3 class=\"title is-3 has-text-black has-text-centered has-margin-bottom-medium\">\n            <figure class=\"image is-24x24 logo\">\n                <img src=\"/images/logo.svg\"/>\n            </figure>\n            {{ appName }}\n        </h3>\n        <form class=\"has-margin-bottom-medium\"\n            @submit.prevent=\"submit()\">\n            <div class=\"field\">\n                <div class=\"control has-icons-left has-icons-right\">\n                    <input class=\"input\"\n                        :class=\"{ 'is-danger': hasErrors, 'is-success': isSuccessful }\"\n                        type=\"email\"\n                        placeholder=\"Email\"\n                        v-model=\"email\"\n                        @keypress.down=\"hasErrors=false\">\n                    <span class=\"icon is-small is-left\">\n                        <fa icon=\"envelope\"></fa>\n                    </span>\n                    <span class=\"icon is-small is-right has-text-success\"\n                        v-if=\"isSuccessful\">\n                        <fa icon=\"check\"></fa>\n                    </span>\n                    <span class=\"icon is-small is-right has-text-danger\"\n                        v-if=\"hasErrors\">\n                        <fa icon=\"exclamation-triangle\"></fa>\n                    </span>\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control has-icons-left has-icons-right\">\n                    <input class=\"input\"\n                        :class=\"{ 'is-danger': hasErrors, 'is-success': isSuccessful }\"\n                        type=\"password\"\n                        placeholder=\"Password\"\n                        v-model=\"password\"\n                        @keypress.down=\"hasErrors=false\">\n                    <span class=\"icon is-small is-left\">\n                        <fa icon=\"lock\"></fa>\n                    </span>\n                    <span class=\"icon is-small is-right has-text-success\"\n                        v-if=\"isSuccessful\">\n                        <fa icon=\"check\"></fa>\n                    </span>\n                    <span class=\"icon is-small is-right has-text-danger\"\n                        v-if=\"hasErrors\">\n                        <fa icon=\"exclamation-triangle\"></fa>\n                    </span>\n                </div>\n            </div>\n            <div class=\"field\">\n                <div class=\"control\">\n                    <label class=\"checkbox\">\n                      <input type=\"checkbox\"\n                        v-model=\"remember\">\n                      Remember me\n                    </label>\n                </div>\n            </div>\n            <div class=\"field\">\n                <button class=\"button is-primary is-fullwidth\"\n                    :class=\"{ 'is-loading': loading }\"\n                    type=\"submit\"\n                    @click.prevent=\"submit()\">\n                    <span class=\"icon is-small\">\n                        <fa icon=\"user\"></fa>\n                    </span>\n                    <span>Login</span>\n                </button>\n            </div>\n        </form>\n        <router-link :to=\"{ name: 'password.email' }\"\n            class=\"is-pulled-right\">\n            Forgot password\n        </router-link>\n    </div>\n\n</template>\n\n<script>\n\nimport { mapGetters, mapActions } from 'vuex';\nimport fontawesome from '@fortawesome/fontawesome';\nimport {\n    faEnvelope, faCheck, faExclamationTriangle, faLock, faUser,\n} from '@fortawesome/fontawesome-free-solid/shakable.es';\n\nfontawesome.library.add([\n    faEnvelope, faCheck, faExclamationTriangle, faLock, faUser,\n]);\n\nexport default {\n    name: 'Login',\n\n    props: {\n        appName: {\n            type: String,\n            required: true,\n        },\n    },\n\n    computed: {\n        ...mapGetters('auth', ['lastRoute']),\n    },\n\n    data() {\n        return {\n            loading: false,\n            email: '',\n            password: '',\n            remember: false,\n            hasErrors: false,\n            isSuccessful: false,\n        };\n    },\n\n    watch: {\n        email: {\n            handler() {\n                this.hasErrors = false;\n            },\n        },\n        password: {\n            handler() {\n                this.hasErrors = false;\n            },\n        },\n    },\n\n    methods: {\n        ...mapActions('auth', ['login']),\n        submit() {\n            this.loading = true;\n            this.isSuccessful = false;\n            this.hasErrors = false;\n\n            axios.post('/api/login', { email: this.email, password: this.password }).then(() => {\n                this.loading = false;\n                this.isSuccessful = true;\n                setTimeout(() => {\n                    this.login();\n                    this.$emit('login');\n\n                    if (!this.lastRoute) {\n                        this.$router.replace('/');\n                        return;\n                    }\n\n                    this.$router.replace({ name: this.lastRoute });\n                    this.$store.commit('auth/setLastRoute', null);\n                }, 1000);\n            }).catch((error) => {\n                this.loading = false;\n                this.hasErrors = true;\n\n                const { status, data } = error.response;\n\n                if (status === 401) {\n                    this.$toastr.error(data.message);\n                    return;\n                }\n\n                if (status === 422) {\n                    this.reportLoginError(data);\n                    return;\n                }\n\n                throw error;\n            });\n        },\n        reportLoginError(data) {\n            if (data.errors) {\n                if (data.errors.email) {\n                    this.$toastr.error(data.errors.email[0]);\n                }\n\n                if (data.errors && data.errors.password) {\n                    this.$toastr.error(data.errors.password[0]);\n                }\n\n                return;\n            }\n\n            this.$toastr.error(data.message);\n        },\n    },\n};\n\n</script>\n\n\n\n// WEBPACK FOOTER //\n// resources/assets/js/pages/auth/Login.vue"],"sourceRoot":""}