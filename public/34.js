webpackJsonp([34],{"0IBI":function(t,e,a){var n=a("NYZC");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("49afa0a2",n,!0,{})},"3uJ2":function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".card[data-v-34a13215]{position:relative}.card.is-rounded .card-header[data-v-34a13215],.card.is-rounded[data-v-34a13215]{border-radius:.5em}.card .card-header .card-header-title[data-v-34a13215]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.card .card-header .icon.angle[aria-hidden=true][data-v-34a13215]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.card .card-header .icon.angle[data-v-34a13215]{-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.card .card-content[data-v-34a13215]{-webkit-transition:max-height .4s ease;transition:max-height .4s ease}",""])},5452:function(t,e,a){var n=a("VU/8")(a("S3Uv"),a("xX/S"),!1,null,null,null);t.exports=n.exports},G77v:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("PwaO"),s=a.n(n);e.default={components:{ChartCard:s.a}}},GomZ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("lDdF"),s=(a.n(n),a("C/JF")),r=a("fhbW"),i=a("SBvh"),o=a.n(i),c=a("5452"),l=a.n(c),d=a("buxp"),h=a.n(d);s.library.add(r.faChartBar,r.faChartPie,r.faChartLine,r.faChartArea,r.faCircleNotch,r.faCircle,r.faDownload);var u={bar:r.faChartBar,pie:r.faChartPie,line:r.faChartLine,radar:r.faChartArea,polarArea:r.faCircleNotch,doughnut:r.faChartPie,bubble:r.faCircle};e.default={name:"ChartCard",components:{Card:o.a,CardControl:l.a,Chart:h.a},props:{source:{type:String,required:!0},params:{type:Object,default:null},i18n:{type:Function,default:function(t){return this.$options.methods&&Object.keys(this.$options.methods).includes("__")?this.__(t):t}}},data:function(){return{loading:!1,config:null,icons:u}},computed:{icon:function(){return this.icons[this.config.type]},title:function(){return this.i18n(this.config.title)},data:function(){var t=this;switch(this.config.type){case"bubble":return{datasets:this.config.data.datasets.map(function(e){return e.label=t.i18n(e.label),e})};case"line":case"bar":return{datasets:this.config.data.datasets.map(function(e){return e.label=t.i18n(e.label),e}),labels:this.config.data.labels.map(function(e){return t.i18n(e)})};default:return{datasets:this.config.data.datasets,labels:this.config.data.labels.map(function(e){return t.i18n(e)})}}}},watch:{params:{handler:function(){this.fetch()},deep:!0}},mounted:function(){this.fetch()},methods:{fetch:function(){var t=this;this.loading=!0,axios.get(this.source,{params:this.params}).then(function(e){var a=e.data;t.config=a,t.loading=!1}).catch(function(e){t.loading=!1,t.handleError(e)})},download:function(){var t=this;this.$refs.chart.$el.toBlob(function(e){return Object(n.saveAs)(e,"".concat(t.config.title,".png"))})}}}},IhVa:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card"},[t.header?a("header",{staticClass:"card-header has-background-light"},[a("p",{staticClass:"card-header-title"},[t.icon?a("span",{staticClass:"icon is-small has-margin-right-small"},[a("fa",{attrs:{icon:t.icon}})],1):t._e(),t._v(" "),!t.fixed&&t.title?a("span",{staticClass:"is-clickable",on:{click:function(e){t.toggle()}}},[t._v("\n                "+t._s(t.title)+"\n            ")]):t.title?a("span",[t._v("\n                "+t._s(t.title)+"\n            ")]):t._e()]),t._v(" "),t.search?a("div",{staticClass:"has-vertically-centered-content"},[a("p",{staticClass:"control has-icons-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],staticClass:"input is-small",attrs:{type:"search"},domProps:{value:t.query},on:{input:[function(e){e.target.composing||(t.query=e.target.value)},function(e){t.$emit("query-update",t.query)}]}}),t._v(" "),a("span",{staticClass:"icon is-small is-left"},[a("fa",{attrs:{icon:"search"}})],1)])]):t._e(),t._v(" "),t._l(t.controls,function(e){return t._t("control-"+e)}),t._v(" "),null!==t.badge?a("card-control",[a("span",{staticClass:"tag is-link"},[t._v("\n                "+t._s(t.badge)+"\n            ")])]):t._e(),t._v(" "),t.refresh?a("card-control",{on:{click:function(e){t.$emit("refresh")}}},[a("span",{staticClass:"icon is-small"},[a("fa",{attrs:{icon:"sync"}})],1)]):t._e(),t._v(" "),t.fixed?t._e():a("card-control",{on:{click:function(e){t.toggle()}}},[a("span",{staticClass:"icon angle",attrs:{"aria-hidden":!t.expanded}},[a("fa",{attrs:{icon:"angle-down"}})],1)]),t._v(" "),t.removable?a("card-control",{on:{click:function(e){t.destroy()}}},[a("a",{staticClass:"delete is-small"})]):t._e()],2):t._e(),t._v(" "),a("div",{staticClass:"card-content is-paddingless",style:t.contentStyle},[t._t("default")],2),t._v(" "),t._t("footer"),t._v(" "),t.overlay?a("overlay",{attrs:{size:"medium"}}):t._e()],2)},staticRenderFns:[]}},NYZC:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".chart-js[data-v-e1c24396]{max-width:100%}",""])},NrAz:function(t,e,a){var n=a("3uJ2");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("a4f4aea4",n,!0,{})},PwaO:function(t,e,a){var n=a("VU/8")(a("GomZ"),a("mvuy"),!1,null,null,null);t.exports=n.exports},S3Uv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"CardControl"}},SBvh:function(t,e,a){var n=a("VU/8")(a("kLu8"),a("IhVa"),!1,function(t){a("NrAz")},"data-v-34a13215",null);t.exports=n.exports},YRQ7:function(t,e){t.exports={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"columns is-multiline"},[e("div",{staticClass:"column is-one-third"},[e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/pie"}}),this._v(" "),e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/polar"}})],1),this._v(" "),e("div",{staticClass:"column is-one-third"},[e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/bar"}}),this._v(" "),e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/bubble"}}),this._v(" "),e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/line"}})],1),this._v(" "),e("div",{staticClass:"column is-one-third"},[e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/radar"}}),this._v(" "),e("chart-card",{staticClass:"\n                is-rounded has-background-light raises-on-hover\n                has-margin-bottom-large\n            ",attrs:{source:"/api/dashboard/doughnut"}})],1)])},staticRenderFns:[]}},bdHH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("WaEV"),s=a.n(n),r=a("cNRp");a.n(r);function i(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}s.a.scaleService.updateScaleDefaults("linear",{ticks:{min:0}});var o=["line","bar","radar","polarArea","pie","doughnut","bubble"];e.default={name:"Chart",props:{type:{type:String,required:!0,validator:function(t){return o.includes(t)}},data:{type:Object,required:!0},options:{type:Object,default:function(){return{}}}},data:function(){return{chart:null}},watch:{data:function(){this.update()}},mounted:function(){this.init()},beforeDestroy:function(){this.chart.destroy()},methods:{init:function(){this.chart=new s.a(this.$el,{type:this.type,data:this.data,options:function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{},n=Object.keys(a);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(t){return Object.getOwnPropertyDescriptor(a,t).enumerable}))),n.forEach(function(e){i(t,e,a[e])})}return t}({tooltips:!1,plugins:{datalabels:{anchor:"end",align:"top",borderRadius:3,padding:2,color:"white",font:{style:"bold"},display:function(t){var e=t.chart,a=t.datasetIndex;return!e.getDatasetMeta(a).hidden}}}},this.options)})},update:function(){this.chart?(this.updateDatasets(),this.chart.data.labels=this.data.labels,this.chart.update()):this.init()},updateDatasets:function(){var t=this;this.datasetsStructureChanged()?this.$set(this.chart.data,"datasets",this.data.datasets):this.chart.data.datasets.forEach(function(e,a){e.data=t.data.datasets[a].data,e.backgroundColor=t.data.datasets[a].backgroundColor,e.datalabels.backgroundColor=t.data.datasets[a].datalabels.backgroundColor})},datasetsStructureChanged:function(){var t=this;return this.chart.data.datasets.length!==this.data.datasets.length||this.chart.data.datasets.some(function(e){var a=e.label;return-1===t.data.datasets.findIndex(function(t){return t.label===a})})},svg:function(){return this.$el.toDataURL("image/jpg")}}}},buxp:function(t,e,a){var n=a("VU/8")(a("bdHH"),a("cTdq"),!1,function(t){a("0IBI")},"data-v-e1c24396",null);t.exports=n.exports},cTdq:function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("canvas",{staticClass:"chart-js"})},staticRenderFns:[]}},kLu8:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("C/JF"),s=a("fhbW"),r=a("5452"),i=a.n(r),o=a("cjTo"),c=a.n(o);n.library.add(s.faSearch,s.faSync,s.faAngleDown),e.default={name:"Card",components:{CardControl:i.a,Overlay:c.a},props:{nested:{type:Boolean,default:!1},collapsed:{type:Boolean,default:!1},icon:{type:[Object,Array,String],default:null},title:{type:String,default:null},search:{type:Boolean,default:!1},badge:{type:Number,default:null},refresh:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},removable:{type:Boolean,default:!1},controls:{type:Number,default:0},overlay:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!1}},data:function(t){return{query:null,expanded:!t.collapsed}},computed:{searchInput:function(){return this.search?this.$el.querySelector("input[type=search]"):null},header:function(){return this.icon||this.title||this.search||this.badge||this.refresh||!this.fixed||this.removable||this.controls},content:function(){return this.$el.querySelector(".card-content")},maxHeight:function(){return this.collapsed?{"max-height":0}:{}},overflowY:function(){return this.scrollable||!this.expanded?{"overflow-y":"hidden"}:{}},contentStyle:function(){return Object.assign({},this.maxHeight,this.overflowY)}},methods:{toggle:function(){this.$emit("toggle"),this.expanded?this.collapse():this.expand()},expand:function(){var t=this;this.nested&&this.$emit("extend",this.content.scrollHeight),this.$emit("expand"),this.content.style["max-height"]="".concat(this.content.scrollHeight,"px"),setTimeout(function(){t.expanded=!0},400)},collapse:function(){var t=this;this.content.style["max-height"]||(this.content.style["max-height"]="".concat(this.content.scrollHeight,"px")),this.nested&&this.$emit("shrink",this.content.scrollHeight),this.$emit("collapse"),setTimeout(function(){t.content.style["max-height"]=0},1),this.expanded=!1},resize:function(){var t=this;if(this.expanded){var e=parseInt(this.content.style["max-height"],10);this.$nextTick(function(){t.nested&&t.$emit("extend",t.content.scrollHeight-e),t.content.style["max-height"]="".concat(t.content.scrollHeight,"px")})}},shrink:function(t){return this.content.style["max-height"]="".concat(parseInt(this.content.style["max-height"],10)-t,"px"),this.$emit("shrink",t)},extend:function(t){return this.content.style["max-height"]="".concat(parseInt(this.content.style["max-height"],10)+t,"px"),this.$emit("extend",t)},focus:function(){this.searchInput.focus()},clearQuery:function(){this.query=null},destroy:function(){this.$emit("remove"),this.$el.parentNode.removeChild(this.$el),this.$destroy()}}}},mvuy:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.config?a("card",{attrs:{refresh:"",title:t.title,icon:t.icon,overlay:t.loading,controls:1},on:{refresh:t.fetch}},[a("card-control",{attrs:{slot:"control-1"},slot:"control-1"},[a("span",{staticClass:"icon is-small download",on:{click:t.download}},[a("fa",{attrs:{icon:"download"}})],1)]),t._v(" "),a("chart",{ref:"chart",staticClass:"has-padding-medium",attrs:{data:t.data,options:t.config.options,type:t.config.type}})],1):t._e()},staticRenderFns:[]}},vQBs:function(t,e,a){var n=a("VU/8")(a("G77v"),a("YRQ7"),!1,null,null,null);t.exports=n.exports},"xX/S":function(t,e){t.exports={render:function(){var t=this.$createElement;return(this._self._c||t)("a",this._g({staticClass:"card-header-icon"},this.$listeners),[this._t("default")],2)},staticRenderFns:[]}}});
//# sourceMappingURL=34.js.map