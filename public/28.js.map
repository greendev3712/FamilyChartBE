{"version":3,"file":"28.js","sources":["webpack:///28.js"],"sourcesContent":["webpackJsonp([28],{\"02GH\":function(e,t,s){var i=s(\"VU/8\")(s(\"bIv0\"),s(\"M2xI\"),!1,function(e){s(\"s8XS\")},null,null);e.exports=i.exports},\"4Hs9\":function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(\"02GH\"),n=s.n(i),a=s(\"Rxb0\"),r=s.n(a);t.default={name:\"CheckboxManager\",components:{Card:n.a,ManagerContent:r.a},props:{title:{type:String,required:!0},groupData:{required:!0},rolePermissions:{type:Array,required:!0}},computed:{isRoot:function(){return Array.isArray(this.groupData)},groupCount:function(){return this.isRoot?null:Object.keys(this.groupData).length},sortedGroups:function(){return this.isRoot?null:Object.keys(this.groupData).sort()},checkbox:function(){return this.$el.querySelector(\"input[type=checkbox]\")}},methods:{setChecked:function(){this.checkbox.indeterminate=!1,this.checkbox.checked=!0,this.$emit(\"update\")},setIndeterminate:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!0,this.$emit(\"update\")},setUnchecked:function(){this.checkbox.checked=!1,this.checkbox.indeterminate=!1,this.$emit(\"update\")},update:function(){var e=this.$refs.children.filter(function(e){return e.checkbox.checked}).length;if(e!==this.$refs.children.length){var t=this.$refs.children.filter(function(e){return e.checkbox.indeterminate}).length;e||t?this.setIndeterminate():this.setUnchecked()}else this.setChecked()},updateBelow:function(){return this.isRoot?this.updateContent():this.updateChildren()},updateContent:function(){return this.checkbox.checked?this.$refs.content.setAllChecked():this.$refs.content.setAllUnchecked()},updateChildren:function(){var e=this;this.$refs.children.forEach(function(t){t.checkbox.checked=e.checkbox.checked,t.updateBelow()})}}}},\"7n2W\":function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"columns is-multiline has-padding-medium\"},e._l(e.groupData,function(t,i){return s(\"div\",{key:i,staticClass:\"column is-half\"},[s(\"div\",{staticClass:\"field\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.checkedIds,expression:\"checkedIds\"}],staticClass:\"is-checkradio\",attrs:{type:\"checkbox\",id:\"checkbox-\"+t.name,name:\"checkbox-\"+t.name},domProps:{value:t.id,checked:Array.isArray(e.checkedIds)?e._i(e.checkedIds,t.id)>-1:e.checkedIds},on:{change:function(s){var i=e.checkedIds,n=s.target,a=!!n.checked;if(Array.isArray(i)){var r=t.id,o=e._i(i,r);n.checked?o<0&&(e.checkedIds=i.concat([r])):o>-1&&(e.checkedIds=i.slice(0,o).concat(i.slice(o+1)))}else e.checkedIds=a}}}),e._v(\" \"),s(\"label\",{attrs:{for:\"checkbox-\"+t.name}},[s(\"span\",{class:e.getClass(t)},[e._v(\"\\n                        \"+e._s(t.description||t.name)+\"\\n                    \")]),e._v(\" \"),t.default?s(\"span\",{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:e.__(\"Default\"),expression:\"__('Default')\"}],staticClass:\"icon has-text-info\"},[s(\"i\",{staticClass:\"is-icon fas fa-exclamation-triangle\"})]):e._e()])])])}))},staticRenderFns:[]}},ChWA:function(e,t,s){var i=s(\"VU/8\")(s(\"4Hs9\"),s(\"ed1t\"),!1,function(e){s(\"SAmQ\")},null,null);e.exports=i.exports},Ez7X:function(e,t,s){(e.exports=s(\"FZ+f\")(!1)).push([e.i,\"div.field.checkbox-manager{width:15px}\",\"\"])},ISjC:function(e,t,s){(e.exports=s(\"FZ+f\")(!1)).push([e.i,\".icon.angle[aria-hidden=true]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.icon.angle{-webkit-transition:-webkit-transform .3s ease;transition:-webkit-transform .3s ease;transition:transform .3s ease;transition:transform .3s ease,-webkit-transform .3s ease}.card-content{padding:0}\",\"\"])},M2xI:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"div\",{staticClass:\"card\"},[e.header?s(\"header\",{staticClass:\"card-header\"},[s(\"p\",{staticClass:\"card-header-title\"},[e.icon?s(\"span\",{staticClass:\"icon is-small has-margin-right-small\"},[s(\"i\",{class:e.icon})]):e._e(),e._v(\" \"),e.collapsible?s(\"span\",{staticClass:\"is-clickable\",on:{click:function(t){e.toggle()}}},[e._v(\"\\n                \"+e._s(e.title)+\"\\n            \")]):s(\"span\",[e._v(e._s(e.title))])]),e._v(\" \"),e.search?s(\"div\",{staticClass:\"has-vertically-centered-content\"},[s(\"p\",{staticClass:\"control has-icons-left\"},[s(\"input\",{directives:[{name:\"model\",rawName:\"v-model\",value:e.query,expression:\"query\"}],staticClass:\"input is-small\",attrs:{type:\"search\"},domProps:{value:e.query},on:{input:[function(t){t.target.composing||(e.query=t.target.value)},function(t){e.$emit(\"query-update\",e.query)}]}}),e._v(\" \"),e._m(0)])]):e._e(),e._v(\" \"),e._l(e.controls,function(t){return e._t(\"control-\"+t)}),e._v(\" \"),null!==e.badge?s(\"a\",{staticClass:\"card-header-icon\"},[s(\"span\",{staticClass:\"tag is-link\"},[e._v(\"\\n                \"+e._s(e.badge)+\"\\n            \")])]):e._e(),e._v(\" \"),e.refresh?s(\"a\",{staticClass:\"card-header-icon\"},[s(\"span\",{staticClass:\"icon is-small\",on:{click:function(t){e.$emit(\"refresh\")}}},[s(\"i\",{staticClass:\"fas fa-sync\"})])]):e._e(),e._v(\" \"),e.collapsible?s(\"a\",{staticClass:\"card-header-icon\"},[s(\"span\",{staticClass:\"icon angle\",attrs:{\"aria-hidden\":e.collapsed},on:{click:function(t){e.toggle()}}},[s(\"i\",{staticClass:\"fas fa-angle-down\"})])]):e._e(),e._v(\" \"),e.removable?s(\"span\",{staticClass:\"card-header-icon\",on:{click:function(t){e.destroy()}}},[s(\"a\",{staticClass:\"delete is-small\"})]):e._e()],2):e._e(),e._v(\" \"),s(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:!e.collapsed,expression:\"!collapsed\"}],staticClass:\"card-content\"},[e._t(\"default\")],2),e._v(\" \"),e.footer&&!e.collapsed?s(\"footer\",{staticClass:\"card-footer\"},e._l(e.footerItems,function(t){return s(\"p\",{key:t,staticClass:\"card-footer-item\"},[e._t(\"footer-item-\"+t)],2)})):e._e(),e._v(\" \"),e.overlay?s(\"overlay\",{attrs:{size:\"medium\"}}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t(\"span\",{staticClass:\"icon is-small is-left\"},[t(\"i\",{staticClass:\"fas fa-search\"})])}]}},Rxb0:function(e,t,s){var i=s(\"VU/8\")(s(\"SYJ6\"),s(\"7n2W\"),!1,null,null,null);e.exports=i.exports},SAmQ:function(e,t,s){var i=s(\"Ez7X\");\"string\"==typeof i&&(i=[[e.i,i,\"\"]]),i.locals&&(e.exports=i.locals);s(\"rjj0\")(\"5a7bc562\",i,!0)},SYJ6:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(\"NYxO\"),n=s(\"VN6J\"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};t.default={name:\"ManagerContent\",directives:{tooltip:n.b},props:{groupData:{required:!0},rolePermissions:{type:Array,required:!0}},computed:a({},Object(i.c)(\"locale\",[\"__\"]),{permissionIds:function(){return this.groupData.map(function(e){return e.id})},status:function(){return this.checkedIds.length===this.permissionIds.length?\"checked\":0===this.checkedIds.length?\"unchecked\":\"indeterminate\"}}),watch:{status:{handler:function(){this.$emit(this.status)}},checkedIds:function(){this.removeGroupPermissions(),this.addCheckedPermissions()}},data:function(){return{checkedIds:[]}},created:function(){this.setCheckedIds()},methods:{setCheckedIds:function(){var e=this;this.checkedIds=this.permissionIds.filter(function(t){return e.rolePermissions.indexOf(t)>-1})},setAllChecked:function(){this.checkedIds=JSON.parse(JSON.stringify(this.permissionIds)),this.checkIfEmpty()},setAllUnchecked:function(){this.checkedIds=[],this.checkIfEmpty()},getClass:function(e){return Object.prototype.hasOwnProperty.call(e,\"type\")?1===e.type?\"has-text-warning\":\"has-text-success\":null},checkIfEmpty:function(){0===this.groupData.length&&this.$emit(this.status)},removeGroupPermissions:function(){var e=this;this.permissionIds.forEach(function(t){var s=e.rolePermissions.indexOf(t);-1!==s&&e.rolePermissions.splice(s,1)})},addCheckedPermissions:function(){var e=this;this.checkedIds.forEach(function(t){e.rolePermissions.push(t)})}},mounted:function(){this.checkIfEmpty()}}},bIv0:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(\"zXii\"),n=s.n(i);t.default={name:\"Card\",components:{Overlay:n.a},props:{open:{type:Boolean,default:!0},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!1},footerItems:{type:Number,default:0},icon:{type:String,default:null},title:{type:String,default:null},search:{type:Boolean,default:!1},badge:{type:Number,default:null},refresh:{type:Boolean,default:!1},collapsible:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1},controls:{type:Number,default:0},bodyStyle:{type:Object,default:function(){return{}}}},computed:{searchInput:function(){return this.search?this.$el.querySelector(\"input[type=search]\"):null}},data:function(){return{query:null,collapsed:!this.open}},methods:{toggle:function(){return this.$emit(\"toggle\"),this.collapsed=!this.collapsed,this.collapsed?this.$emit(\"collapse\"):this.$emit(\"expand\")},expand:function(){this.collapsed=!1,this.$emit(\"expand\")},collapse:function(){this.collapsed=!0,this.$emit(\"collapse\")},focus:function(){this.searchInput.focus()},clearQuery:function(){this.query=null},destroy:function(){this.$emit(\"remove\"),this.$el.parentNode.removeChild(this.$el),this.$destroy()}}}},\"e/l7\":function(e,t){e.exports={render:function(){var e=this.$createElement,t=this._self._c||e;return t(\"div\",{staticClass:\"columns is-centered\"},[t(\"div\",{staticClass:\"column is-three-quarters\"},[this.initialised?t(\"div\",{staticClass:\"animated fadeIn\"},[t(\"center\",{staticClass:\"has-padding-bottom-large\"},[t(\"h5\",{staticClass:\"title is-5\"},[this._v(this._s(this.role.display_name))])]),this._v(\" \"),this.menus.length?t(\"checkbox-manager\",{attrs:{title:this.__(\"Menus\"),\"role-permissions\":this.roleMenus,\"group-data\":this.menus}}):this._e(),this._v(\" \"),this.menus.length?t(\"checkbox-manager\",{attrs:{title:this.__(\"Permisssions\"),\"role-permissions\":this.rolePermissions,\"group-data\":this.permissions}}):this._e(),this._v(\" \"),t(\"button\",{staticClass:\"button is-success has-margin-top-large is-pulled-right\",on:{click:this.update}},[this._v(\"\\n                \"+this._s(this.__(\"Update\"))+\"\\n            \")]),this._v(\" \"),t(\"div\",{staticClass:\"is-clearfix\"})],1):this._e()])])},staticRenderFns:[]}},ed1t:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(\"card\",{ref:\"card\",attrs:{title:e.title,open:!1,controls:1}},[s(\"a\",{staticClass:\"card-header-icon\",attrs:{slot:\"control-1\"},slot:\"control-1\"},[s(\"div\",{staticClass:\"checkbox-manager field\"},[s(\"input\",{staticClass:\"is-checkradio is-info\",attrs:{type:\"checkbox\",id:\"checkbox-\"+e._uid,name:\"checkbox-\"+e._uid},on:{change:e.updateBelow}}),e._v(\" \"),s(\"label\",{attrs:{for:\"checkbox-\"+e._uid}})])]),e._v(\" \"),s(\"div\",{staticClass:\"has-padding-left-medium has-padding-top-medium has-padding-bottom-medium\"},[e._l(e.sortedGroups,function(t){return e.groupCount?s(\"checkbox-manager\",{key:t,ref:\"children\",refInFor:!0,attrs:{title:t,\"group-data\":e.groupData[t],\"role-permissions\":e.rolePermissions},on:{update:e.update}}):e._e()}),e._v(\" \"),e.isRoot?s(\"manager-content\",{ref:\"content\",attrs:{\"group-data\":e.groupData,\"role-permissions\":e.rolePermissions},on:{checked:e.setChecked,indeterminate:e.setIndeterminate,unchecked:e.setUnchecked}}):e._e()],2)])},staticRenderFns:[]}},q3gz:function(e,t,s){var i=s(\"VU/8\")(s(\"sQdx\"),s(\"e/l7\"),!1,null,null,null);e.exports=i.exports},s8XS:function(e,t,s){var i=s(\"ISjC\");\"string\"==typeof i&&(i=[[e.i,i,\"\"]]),i.locals&&(e.exports=i.locals);s(\"rjj0\")(\"5689c9d0\",i,!0)},sQdx:function(e,t,s){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i=s(\"NYxO\"),n=s(\"ChWA\"),a=s.n(n),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e};t.default={components:{CheckboxManager:a.a},computed:r({},Object(i.c)(\"locale\",[\"__\"])),data:function(){return{roleId:this.$route.params.role,role:{},menus:[],permissions:{},roleMenus:[],rolePermissions:[],initialised:!1}},created:function(){this.get()},methods:{get:function(){var e=this;axios.get(route(\"system.roles.getPermissions\",[this.roleId],!1)).then(function(t){var s=t.data;e.set(s),e.initialised=!0}).catch(function(t){return e.handleError(t)})},set:function(e){this.menus=e.menus,this.roleMenus=e.roleMenus,this.rolePermissions=e.rolePermissions,this.permissions=e.permissions,this.role=e.role},update:function(){var e=this;axios.post(route(\"system.roles.setPermissions\",[this.roleId],!1),this.postParams()).then(function(e){var t=e.data;toastr.success(t.message)}).catch(function(t){return e.handleError(t)})},postParams:function(){return{roleMenus:this.roleMenus,rolePermissions:this.rolePermissions}}}}}});\n\n\n// WEBPACK FOOTER //\n// 28.js"],"mappings":"AAAA","sourceRoot":""}